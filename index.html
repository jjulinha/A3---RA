<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eng. Prototyping | AR Viewer</title>
    
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="background-overlay"></div>

    <header>
        <div class="logo">PROTO<span style="color:var(--primary-color)">.LAB</span>_AR</div>
        <div class="status-indicator">
            <span class="blink"></span> SYSTEM ONLINE
        </div>
    </header>

    <main>
        <div class="main-interface">
            <div class="controls-column">
                <div class="panel-box">
                    <h3><span class="icon">üìÇ</span> Seletor de Ativos</h3>
                    <button class="model-btn active" data-model="helmet">
                        <span class="btn-title">M-78 Battle Helmet</span>
                        <span class="btn-sub">Material: Metal/Cer√¢mica</span>
                    </button>
                    <button class="model-btn" data-model="lens">
                        <span class="btn-title">Optic Lens Alpha</span>
                        <span class="btn-sub">Material: Vidro/Composto</span>
                    </button>
                </div>

                <div class="panel-box">
                    <h3><span class="icon">‚òÄ</span> Simula√ß√£o de Luz</h3>
                    <label>Rota√ß√£o do Ambiente (HDR)</label>
                    <input type="range" id="lighting-slider" min="0" max="360" value="0">
                    <p class="slider-val">√Çngulo: <span id="light-val">0deg</span></p>
                </div>

                <div class="panel-box stats-box">
                    <h3><span class="icon">üìä</span> Telemetria da Malha</h3>
                    <div class="stat-row"><span>Pol√≠gonos:</span> <span id="poly-count" class="mono">Carregando...</span></div>
                    <div class="stat-row"><span>V√©rtices:</span> <span id="vertex-count" class="mono">Carregando...</span></div>
                    <div class="stat-row"><span>Texturas:</span> <span id="texture-res" class="mono">Carregando...</span></div>
                </div>
            </div>

            <div class="viewer-area">
                <div class="viewer-wrapper">
                    <model-viewer id="ar-viewer" 
                        src="https://modelviewer.dev/shared-assets/models/DamagedHelmet.glb"
                        ios-src="https://modelviewer.dev/shared-assets/models/DamagedHelmet.glb"
                        alt="Prototipagem 3D"
                        
                        ar 
                        ar-modes="webxr scene-viewer quick-look" 
                        ar-scale="auto" 
                        ar-placement="floor"
                        interaction-prompt="auto"
                        
                        camera-controls 
                        touch-action="pan-y"
                        disable-zoom
                        
                        shadow-intensity="1.8" 
                        shadow-softness="0.5"
                        environment-image="neutral" 
                        exposure="1.0"
                        tone-mapping="aces">
                        
                        <button class="ar-button" slot="ar-button">
                            üëÅ‚Äçüó® INICIAR PROJE√á√ÉO AR
                        </button>
                    </model-viewer>
                    
                    <div class="overlay-tech">
                        <span>RENDER: PBR_METALLIC_ROUGHNESS</span>
                        <span>FOV: 45¬∞</span>
                    </div>
                </div>
                
                <div class="info-footer">
                    <h2 id="model-title">M-78 Battle Helmet</h2>
                    <p id="model-desc">Exemplo de alta fidelidade em texturiza√ß√£o PBR. Observe o mapa de emiss√£o (luzes) e o mapa de normais simulando danos f√≠sicos na superf√≠cie met√°lica.</p>
                </div>
            </div>
        </div>
    </main>

    <script src="app.js"></script>
</body>
</html>
